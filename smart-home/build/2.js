webpackJsonp([2],{252:function(l,n,u){"use strict";function i(l){return a._19(0,[(l()(),a.Z(0,0,null,null,1,"div",[["class","checkbox-icon"]],[[2,"checkbox-checked",null]],null,null,null,null)),(l()(),a.Z(1,0,null,null,0,"div",[["class","checkbox-inner"]],null,null,null,null,null)),(l()(),a.Z(2,0,null,null,2,"button",[["class","item-cover"],["ion-button","item-cover"],["role","checkbox"],["type","button"]],[[8,"id",0],[1,"aria-checked",0],[1,"aria-labelledby",0],[1,"aria-disabled",0]],null,null,k.b,k.a)),a.Y(3,1097728,null,0,Z.a,[[8,"item-cover"],C.a,a.j,a.z],null,null),(l()(),a._18(-1,0,[" "]))],null,function(l,n){var u=n.component;l(n,0,0,u._value);l(n,2,0,u.id,u._value,u._labelId,u._disabled)})}function o(l){return a._19(0,[(l()(),a.Z(0,0,null,null,20,"ion-header",[],null,null,null,null,null)),a.Y(1,16384,null,0,w.a,[C.a,a.j,a.z,[2,y.a]],null,null),(l()(),a._18(-1,null,["\n    "])),(l()(),a.Z(3,0,null,null,16,"ion-navbar",[["class","toolbar"],["color","primary"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,S.b,S.a)),a.Y(4,49152,null,0,Y.a,[I.a,[2,y.a],[2,P.a],C.a,a.j,a.z],{color:[0,"color"]},null),(l()(),a._18(-1,3,["\n        "])),(l()(),a.Z(6,0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(l,n,u){var i=!0;if("click"===n){i=!1!==a._11(l,8).toggle()&&i}return i},k.b,k.a)),a.Y(7,1097728,[[1,4]],0,Z.a,[[8,""],C.a,a.j,a.z],null,null),a.Y(8,1064960,null,0,D.a,[j.a,[2,y.a],[2,Z.a],[2,Y.a]],{menuToggle:[0,"menuToggle"]},null),a.Y(9,16384,null,1,T.a,[C.a,a.j,a.z,[2,W.a],[2,Y.a]],null,null),a._16(603979776,1,{_buttons:1}),(l()(),a._18(-1,0,["\n            "])),(l()(),a.Z(12,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a.Y(13,147456,null,0,z.a,[C.a,a.j,a.z],{name:[0,"name"]},null),(l()(),a._18(-1,0,["\n        "])),(l()(),a._18(-1,3,["\n        "])),(l()(),a.Z(16,0,null,3,2,"ion-title",[],null,null,null,M.b,M.a)),a.Y(17,49152,null,0,O.a,[C.a,a.j,a.z,[2,W.a],[2,Y.a]],null,null),(l()(),a._18(-1,0,["搜索设备"])),(l()(),a._18(-1,3,["\n    "])),(l()(),a._18(-1,null,["\n"])),(l()(),a._18(-1,null,["\n\n"])),(l()(),a.Z(22,0,null,null,80,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,x.b,x.a)),a.Y(23,4374528,null,0,N.a,[C.a,E.a,V.a,a.j,a.z,I.a,F.a,a.u,[2,y.a],[2,P.a]],null,null),(l()(),a._18(-1,1,["\n    "])),(l()(),a.Z(25,0,null,1,62,"ion-grid",[["class","grid"]],null,null,null,null,null)),a.Y(26,16384,null,0,J.a,[],null,null),(l()(),a._18(-1,null,["\n        "])),(l()(),a.Z(28,0,null,null,17,"ion-row",[["class","col-margin row"]],null,null,null,null,null)),a.Y(29,16384,null,0,A.a,[],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(31,0,null,null,2,"ion-col",[["class","col"],["col-2",""]],null,null,null,null,null)),a.Y(32,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["SSID"])),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(35,0,null,null,9,"ion-col",[["class","col"],["col-10",""]],null,null,null,null,null)),a.Y(36,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["\n                "])),(l()(),a.Z(38,0,null,null,5,"input",[["class","edit-input"],["placeholder","请输入WiFi名称"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var i=!0,o=l.component;if("input"===n){i=!1!==a._11(l,39)._handleInput(u.target.value)&&i}if("blur"===n){i=!1!==a._11(l,39).onTouched()&&i}if("compositionstart"===n){i=!1!==a._11(l,39)._compositionStart()&&i}if("compositionend"===n){i=!1!==a._11(l,39)._compositionEnd(u.target.value)&&i}if("ngModelChange"===n){i=!1!==(o.wifiID=u)&&i}return i},null,null)),a.Y(39,16384,null,0,L.b,[a.A,a.j,[2,L.a]],null,null),a._14(1024,null,L.e,function(l){return[l]},[L.b]),a.Y(41,671744,null,0,L.h,[[8,null],[8,null],[8,null],[2,L.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),a._14(2048,null,L.f,null,[L.h]),a.Y(43,16384,null,0,L.g,[L.f],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a._18(-1,null,["\n        "])),(l()(),a._18(-1,null,["\n        "])),(l()(),a.Z(47,0,null,null,17,"ion-row",[["class","col-margin row"]],null,null,null,null,null)),a.Y(48,16384,null,0,A.a,[],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(50,0,null,null,2,"ion-col",[["class","col"],["col-2",""]],null,null,null,null,null)),a.Y(51,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["密码"])),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(54,0,null,null,9,"ion-col",[["class","col"],["col-10",""]],null,null,null,null,null)),a.Y(55,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["\n                "])),(l()(),a.Z(57,0,null,null,5,"input",[["class","edit-input"],["placeholder","请输入WiFi密码"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var i=!0,o=l.component;if("input"===n){i=!1!==a._11(l,58)._handleInput(u.target.value)&&i}if("blur"===n){i=!1!==a._11(l,58).onTouched()&&i}if("compositionstart"===n){i=!1!==a._11(l,58)._compositionStart()&&i}if("compositionend"===n){i=!1!==a._11(l,58)._compositionEnd(u.target.value)&&i}if("ngModelChange"===n){i=!1!==(o.wifiPwd=u)&&i}return i},null,null)),a.Y(58,16384,null,0,L.b,[a.A,a.j,[2,L.a]],null,null),a._14(1024,null,L.e,function(l){return[l]},[L.b]),a.Y(60,671744,null,0,L.h,[[8,null],[8,null],[8,null],[2,L.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),a._14(2048,null,L.f,null,[L.h]),a.Y(62,16384,null,0,L.g,[L.f],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a._18(-1,null,["\n        "])),(l()(),a._18(-1,null,["\n        "])),(l()(),a.Z(66,0,null,null,20,"ion-row",[["class","col-margin row"]],null,null,null,null,null)),a.Y(67,16384,null,0,A.a,[],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(69,0,null,null,1,"ion-col",[["class","col"],["col-8",""]],null,null,null,null,null)),a.Y(70,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(72,0,null,null,9,"ion-col",[["class","align-h col"],["col-1",""]],null,null,null,null,null)),a.Y(73,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["\n                "])),(l()(),a.Z(75,0,null,null,5,"ion-checkbox",[["color","secondary"],["large",""]],[[2,"checkbox-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(l,n,u){var i=!0,o=l.component;if("click"===n){i=!1!==a._11(l,76)._click(u)&&i}if("ngModelChange"===n){i=!1!==(o.isSave=u)&&i}return i},i,q)),a.Y(76,1228800,null,0,R.a,[C.a,H.a,[2,X.a],a.j,a.z],{color:[0,"color"],disabled:[1,"disabled"]},null),a._14(1024,null,L.e,function(l){return[l]},[R.a]),a.Y(78,671744,null,0,L.h,[[8,null],[8,null],[8,null],[2,L.e]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),a._14(2048,null,L.f,null,[L.h]),a.Y(80,16384,null,0,L.g,[L.f],null,null),(l()(),a._18(-1,null,["\n            "])),(l()(),a._18(-1,null,["\n            "])),(l()(),a.Z(83,0,null,null,2,"ion-col",[["class","align-h col"],["col-3",""]],null,null,null,null,null)),a.Y(84,16384,null,0,U.a,[],null,null),(l()(),a._18(-1,null,["\n                记住密码\n            "])),(l()(),a._18(-1,null,["\n        "])),(l()(),a._18(-1,null,["\n    "])),(l()(),a._18(-1,1,["\n\n    "])),(l()(),a.Z(89,0,null,1,5,"div",[["class","align-h"]],null,null,null,null,null)),(l()(),a._18(-1,null,["\n        "])),(l()(),a.Z(91,0,null,null,2,"button",[["class","search-button"],["color","primary"],["full",""],["ion-button",""],["round",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var i=!0;if("click"===n){i=!1!==l.component.startScan()&&i}return i},k.b,k.a)),a.Y(92,1097728,null,0,Z.a,[[8,""],C.a,a.j,a.z],{color:[0,"color"],round:[1,"round"],full:[2,"full"]},null),(l()(),a._18(93,0,["",""])),(l()(),a._18(-1,null,["\n    "])),(l()(),a._18(-1,1,["\n\n    "])),(l()(),a.Z(96,0,null,1,5,"div",[["class","align-h"],["style","display: none"]],null,null,null,null,null)),(l()(),a._18(-1,null,["\n        "])),(l()(),a.Z(98,0,null,null,2,"button",[["class","search-button"],["color","secondary"],["full",""],["ion-button",""],["round",""]],null,[[null,"click"]],function(l,n,u){var i=!0;if("click"===n){i=!1!==l.component.cloudMatch()&&i}return i},k.b,k.a)),a.Y(99,1097728,null,0,Z.a,[[8,""],C.a,a.j,a.z],{color:[0,"color"],round:[1,"round"],full:[2,"full"]},null),(l()(),a._18(-1,0,["云匹配"])),(l()(),a._18(-1,null,["\n    "])),(l()(),a._18(-1,1,["\n\n"])),(l()(),a._18(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,4,0,"primary");l(n,8,0,"");l(n,13,0,"menu");l(n,41,0,u.timeCount>0,u.wifiID);l(n,60,0,u.timeCount>0,u.wifiPwd);l(n,76,0,"secondary",u.timeCount>0);l(n,78,0,u.timeCount>0,u.isSave);l(n,92,0,"primary","","");l(n,99,0,"secondary","","")},function(l,n){var u=n.component;l(n,3,0,a._11(n,4)._hidden,a._11(n,4)._sbPadding);l(n,6,0,a._11(n,8).isHidden);l(n,12,0,a._11(n,13)._hidden);l(n,22,0,a._11(n,23).statusbarPadding,a._11(n,23)._hasRefresher);l(n,38,0,a._11(n,43).ngClassUntouched,a._11(n,43).ngClassTouched,a._11(n,43).ngClassPristine,a._11(n,43).ngClassDirty,a._11(n,43).ngClassValid,a._11(n,43).ngClassInvalid,a._11(n,43).ngClassPending);l(n,57,0,a._11(n,62).ngClassUntouched,a._11(n,62).ngClassTouched,a._11(n,62).ngClassPristine,a._11(n,62).ngClassDirty,a._11(n,62).ngClassValid,a._11(n,62).ngClassInvalid,a._11(n,62).ngClassPending);l(n,75,0,a._11(n,76)._disabled,a._11(n,80).ngClassUntouched,a._11(n,80).ngClassTouched,a._11(n,80).ngClassPristine,a._11(n,80).ngClassDirty,a._11(n,80).ngClassValid,a._11(n,80).ngClassInvalid,a._11(n,80).ngClassPending);l(n,91,0,!u.isWifi||u.timeCount>0);l(n,93,0,u.timeCount>0?u.timeCount:u.isWifi?"开始搜索":"请连接WiFi")})}Object.defineProperty(n,"__esModule",{value:!0});var a=u(0),t=(u(4),u(60),u(140)),e=u(66),s=u(62),c=function(){function l(l,n,u,i,o,a){var t=this;this.navCtrl=l,this.navParams=n,this.network=u,this.zone=i,this.toastCtrl=o,this.androidPermissions=a,this.comeParams=n.data,console.log(JSON.stringify(n.data)),this.devices="{}"==JSON.stringify(this.navParams.data)?s.a.homeData[0].temp:this.comeParams.temp,this.isSave="true"==localStorage.getItem("wifiSave"),this.wifiID=localStorage.getItem("wifiID"),this.wifiPwd=localStorage.getItem("wifiPwd"),this.isWifi="wifi"==this.network.type,this.isWifi=!0;this.network.onchange().subscribe(function(){console.log("network onchange!"+t.network.type),"wifi"===t.network.type?(console.log("we got a wifi connection, woohoo!"),t.isWifi=!0):t.isWifi=!1,console.log("this.isWifi ： "+t.isWifi),t.zone.run(function(){t.isWifi=t.isWifi})})}return l.prototype.ionViewDidLoad=function(){console.log("ionViewDidLoad ScanPage"),this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.READ_PHONE_STATE).then(function(l){console.log(JSON.stringify(l))})},l.prototype.startScan=function(){localStorage.setItem("wifiSave",""+this.isSave),this.isSave?(localStorage.setItem("wifiID",this.wifiID?this.wifiID:""),localStorage.setItem("wifiPwd",this.wifiPwd?this.wifiPwd:"")):(localStorage.setItem("wifiID",""),localStorage.setItem("wifiPwd",""));var l=this;if(this.wifiID){this.timeCount=60;var n=setInterval(function(){console.log(l.timeCount),l.timeCount--<0&&clearInterval(n)},1e3);cordova.plugins.WukongPlugin.smartConfig(this.wifiID,this.wifiPwd,function(n){console.log(n);var u=n.split("##");2==u.length?l.addDevice(u):console.log("arr.length="+u.length),localStorage.setItem("handle",n),l.timeCount=0},function(n){console.log(n),l.timeCount=0,l.showToast(n,"bottom")})}else this.showToast("请输入WiFi名称","top")},l.prototype.addDevice=function(l){var n=l[0];this.devices.data.push(30==l[1]?{type:2,name:"网关",num:n,note:"在线",open:1,total:1,roomTemp:0,setTemp:0}:{type:1,name:"悟空",num:n,sn:n,note:"在线",open:1,total:1,roomTemp:31,setTemp:26,online:!1,mode:0,windUp:!0,windLevel:0,alarmOn:0,alarmOff:0}),localStorage.setItem("home",JSON.stringify(s.a.homeData)),this.navCtrl.pop()},l.prototype.showToast=function(l,n){this.toastCtrl.create({message:l,duration:3e3,position:n}).present()},l}(),r=function(){return function(){}}(),d=u(199),g=u(200),_=u(201),h=u(202),f=u(203),m=u(204),p=u(205),b=u(206),v=u(207),w=u(48),C=u(1),y=u(5),S=u(131),Y=u(25),I=u(8),P=u(18),k=u(27),Z=u(16),D=u(61),j=u(22),T=u(49),W=u(28),z=u(24),M=u(132),O=u(50),x=u(85),N=u(21),E=u(3),V=u(9),F=u(23),J=u(87),A=u(88),U=u(86),L=u(20),R=u(137),H=u(13),X=u(14),q=a.X({encapsulation:2,styles:[],data:{}}),B=u(10),G=u(64),K=a.X({encapsulation:2,styles:[],data:{}}),Q=a.V("page-scan",c,function(l){return a._19(0,[(l()(),a.Z(0,0,null,null,1,"page-scan",[],null,null,null,o,K)),a.Y(1,49152,null,0,c,[P.a,B.a,t.a,a.u,G.a,e.a],null,null)],null,null)},{},{},[]),$=u(11),ll=u(133),nl=u(42);u.d(n,"ScanPageModuleNgFactory",function(){return ul});var ul=a.W(r,[],function(l){return a._7([a._8(512,a.i,a.S,[[8,[d.a,g.a,_.a,h.a,f.a,m.a,p.a,b.a,v.a,Q]],[3,a.i],a.s]),a._8(4608,$.k,$.j,[a.r,[2,$.s]]),a._8(4608,L.k,L.k,[]),a._8(4608,L.c,L.c,[]),a._8(512,$.b,$.b,[]),a._8(512,L.j,L.j,[]),a._8(512,L.d,L.d,[]),a._8(512,L.i,L.i,[]),a._8(512,ll.a,ll.a,[]),a._8(512,ll.b,ll.b,[]),a._8(512,r,r,[]),a._8(256,nl.a,c,[])])})}});